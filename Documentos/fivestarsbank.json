{"swagger":"2.0","info":{"description":"Sistema de cadastro de clientes e transações entre contas bancárias","version":"1.0.0","title":"Five Stars Bank","contact":{"name":"Five Stars Bank","url":"https://github.com/Feruaro/Five-Stars-Bank","email":"fivestarspanacademy@hotmail.com"},"license":{"name":"Apache License Version 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost:8089","basePath":"/","tags":[{"name":"cliente-controller","description":"Cliente Controller"},{"name":"conta-controller","description":"Conta Controller"},{"name":"contato-controller","description":"Contato Controller"},{"name":"endereco-controller","description":"Endereco Controller"},{"name":"movimentacao-controller","description":"Movimentacao Controller"}],"paths":{"/clientes":{"get":{"tags":["cliente-controller"],"summary":"Retorna informações de uma lista de clientes de forma paginada","operationId":"listarUsingGET","produces":["application/json"],"parameters":[{"name":"offset","in":"query","required":false,"type":"integer","format":"int64"},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","required":false,"type":"integer","format":"int32"},{"name":"paged","in":"query","required":false,"type":"boolean"},{"name":"sort.sorted","in":"query","required":false,"type":"boolean"},{"name":"sort.unsorted","in":"query","required":false,"type":"boolean"},{"name":"unpaged","in":"query","required":false,"type":"boolean"}],"responses":{"200":{"description":"Retorna lista de clientes","schema":{"$ref":"#/definitions/Page«Cliente»"}},"500":{"description":"Erro"}},"deprecated":false},"post":{"tags":["cliente-controller"],"summary":"Cadastra um cliente, se todos os dados forem válidos. Além disso, cria um tópico e adiciona o e-mail do cliente como assinante de tópico. Cliente precisa confirmar no seu e-mail","operationId":"cadastrarUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"cliente","description":"cliente","required":true,"schema":{"$ref":"#/definitions/ClienteDTO"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Retorna uma string informando que o cadastro foi realizado e com informações sobre o e-mail enviado","schema":{"type":"string"}},"400":{"description":"Tratamento de exceção / validação, retorna lista de erros informando o campo ou campos que possuem erros e os motivos"},"500":{"description":"Erro"}},"deprecated":false}},"/clientes/snsEmail/{id}":{"get":{"tags":["cliente-controller"],"summary":"Envia um e-mail a um cliente","operationId":"enviarEmailUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Retorna que o e-mail foi enviado! E-mail com informações sobre  cadastro do cliente","schema":{"type":"string"}},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false}},"/clientes/{id}":{"get":{"tags":["cliente-controller"],"summary":"Retorna informações do cliente","operationId":"buscarUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Retorna o cliente referente ao id informado","schema":{"$ref":"#/definitions/Cliente"}},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false},"put":{"tags":["cliente-controller"],"summary":"Atualiza algumas informações do cliente","operationId":"atualizarUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"cliente","description":"cliente","required":true,"schema":{"$ref":"#/definitions/ClienteDTO2"}},{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"204":{"description":"sem retorno, informações foram atualizadas com sucesso"},"400":{"description":"Tratamento de exceção / validação, retorna lista de erros informando o campo ou campos que possuem erros e os motivos"},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false},"delete":{"tags":["cliente-controller"],"summary":"Deleta todas as informações do cliente","operationId":"deletarUsingDELETE","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"204":{"description":"sem retorno, informações foram deletas com sucesso"},"400":{"description":"Tratamento de exceção, retorna que o cliente do id informado possui contas ativas, para deletar um cliente todas as contas vinculadas ao mesmo precisam estar inativas"},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false}},"/contas/{id}":{"post":{"tags":["conta-controller"],"summary":"Cadastra uma conta ao cliente informado","operationId":"cadastrarUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Retorna uma string informando que o cadastro foi realizado","schema":{"type":"string"}},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false},"put":{"tags":["conta-controller"],"summary":"Fecha a conta informada","operationId":"inativarContaUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"204":{"description":"sem retorno, atualiza o status da conta para inativa"},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false}},"/contas/{id}/{periodo}":{"get":{"tags":["conta-controller"],"summary":"Retorna o extrato da conta em um determinado período de dias","operationId":"exibirExtratoUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"name":"periodo","in":"path","description":"periodo","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Retorna o extrato da conta referente ao id informado em um determinado período de dias","schema":{"$ref":"#/definitions/ExtratoDTO"}},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false}},"/contatos/{id}":{"post":{"tags":["contato-controller"],"summary":"Adiciona um contato ao cliente informado","operationId":"adicionarUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"contato","description":"contato","required":true,"schema":{"$ref":"#/definitions/ContatoDTO"}},{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Retorna uma string informando que o contato foi adicionado as informações do cliente","schema":{"type":"string"}},"400":{"description":"Tratamento de exceção / validação, retorna lista de erros informando o campo ou campos que possuem erros e os motivos"},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false},"put":{"tags":["contato-controller"],"summary":"Inativa o contato informado","operationId":"inativarUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"204":{"description":"sem retorno, atualiza o status do contato para inativo"},"400":{"description":"Tratamento de exceção, retorna que o contato referente ao id informado já consta o status como inativo ou é o único contato ativo (cliente não pode ter zero contatos ativos)"},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false}},"/enderecos/{id}":{"post":{"tags":["endereco-controller"],"summary":"Adiciona um endereço ao cliente informado","operationId":"adicionarUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"endereco","description":"endereco","required":true,"schema":{"$ref":"#/definitions/EnderecoDTO"}},{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Retorna uma string informando que o endereço foi adicionado as informações do cliente","schema":{"type":"string"}},"400":{"description":"Tratamento de exceção / validação, retorna lista de erros informando o campo ou campos que possuem erros e os motivos"},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false},"put":{"tags":["endereco-controller"],"summary":"Inativa o endereço informado","operationId":"inativarUsingPUT_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"204":{"description":"sem retorno, atualiza o status do endereço para inativo"},"400":{"description":"Tratamento de exceção, retorna que o endereço referente ao id informado já consta o status como inativo ou é o único endereço ativo (cliente não pode ter zero endereços ativos)"},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false}},"/movimentacoes/{id}":{"get":{"tags":["movimentacao-controller"],"summary":"Retorna uma lista de movimentações da conta informada de forma paginada","operationId":"listarUsingGET_1","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"name":"offset","in":"query","required":false,"type":"integer","format":"int64"},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","required":false,"type":"integer","format":"int32"},{"name":"paged","in":"query","required":false,"type":"boolean"},{"name":"sort.sorted","in":"query","required":false,"type":"boolean"},{"name":"sort.unsorted","in":"query","required":false,"type":"boolean"},{"name":"unpaged","in":"query","required":false,"type":"boolean"}],"responses":{"200":{"description":"Retorna lista de movimentações da conta referente ao id informado","schema":{"$ref":"#/definitions/Page«Movimentacao»"}},"500":{"description":"Erro"}},"deprecated":false},"post":{"tags":["movimentacao-controller"],"summary":"Cadastra uma transação a conta informada. Além disso envia um e-mail do cliente com as informações da transação","operationId":"incluirUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"movi","description":"movi","required":true,"schema":{"$ref":"#/definitions/MovimentacaoDTO"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Retorna uma string informando que a transação foi realizada","schema":{"type":"string"}},"400":{"description":"Tratamento de exceção, retorna que a conta referente ao id informado consta o status como inativa (não é possível cadastrar uma transação a uma conta inativa) ou retorna lista de erros informando o campo ou campos que possuem erros e os motivos"},"404":{"description":"Tratamento de exceção, retorna que o id informado não foi encontrado"},"500":{"description":"Erro"}},"deprecated":false}}},"definitions":{"Cliente":{"type":"object","properties":{"apelido":{"type":"string"},"contas":{"type":"array","items":{"$ref":"#/definitions/Conta"}},"contatos":{"type":"array","items":{"$ref":"#/definitions/Contato"}},"cpf_cnpj":{"type":"string"},"data_nascimento":{"type":"string","format":"date"},"enderecos":{"type":"array","items":{"$ref":"#/definitions/Endereco"}},"genero":{"type":"string"},"id":{"type":"integer","format":"int64"},"nome":{"type":"string"},"rg_ie":{"type":"string"},"tipo":{"type":"string","enum":["PF","PJ"]},"topico":{"type":"string","description":"ARN do topic - SNS AWS"}},"title":"Cliente"},"ClienteDTO":{"type":"object","properties":{"apelido":{"type":"string"},"bairro":{"type":"string"},"cep":{"type":"string"},"cidade":{"type":"string"},"complemento":{"type":"string"},"contato_tel":{"type":"string"},"cpf_cnpj":{"type":"string"},"data_nascimento":{"type":"string"},"descricao":{"type":"string"},"email":{"type":"string"},"estado":{"type":"string"},"genero":{"type":"string"},"logradouro":{"type":"string"},"nome":{"type":"string"},"pais":{"type":"string"},"rg_ie":{"type":"string"},"senha":{"type":"string"},"telefone":{"type":"string"},"tipo":{"type":"integer","format":"int32","description":"Tipo de cliente - código (1 ou 2)"}},"title":"ClienteDTO"},"ClienteDTO2":{"type":"object","properties":{"apelido":{"type":"string"},"genero":{"type":"string"},"nome":{"type":"string"}},"title":"ClienteDTO2"},"Conta":{"type":"object","properties":{"agencia":{"type":"integer","format":"int32"},"codigo_banco":{"type":"integer","format":"int32"},"data_abertura":{"type":"string","format":"date"},"data_fechamento":{"type":"string","format":"date"},"digito_conta":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int64"},"numero_conta":{"type":"integer","format":"int32"},"status":{"type":"string","enum":["ATIVO","INATIVO"]}},"title":"Conta"},"Contato":{"type":"object","properties":{"contato_tel":{"type":"string"},"descricao":{"type":"string"},"email":{"type":"string"},"id":{"type":"integer","format":"int64"},"statusContato":{"type":"string","enum":["ATIVO","INATIVO"]},"telefone":{"type":"string"}},"title":"Contato"},"ContatoDTO":{"type":"object","properties":{"contato_tel":{"type":"string"},"descricao":{"type":"string"},"email":{"type":"string"},"telefone":{"type":"string"}},"title":"ContatoDTO"},"Endereco":{"type":"object","properties":{"bairro":{"type":"string"},"cep":{"type":"string"},"cidade":{"type":"string"},"complemento":{"type":"string"},"estado":{"type":"string"},"id":{"type":"integer","format":"int64"},"logradouro":{"type":"string"},"pais":{"type":"string"},"statusEnd":{"type":"string","enum":["ATIVO","INATIVO"]}},"title":"Endereco"},"EnderecoDTO":{"type":"object","properties":{"bairro":{"type":"string"},"cep":{"type":"string"},"cidade":{"type":"string"},"complemento":{"type":"string"},"estado":{"type":"string"},"logradouro":{"type":"string"},"pais":{"type":"string"}},"title":"EnderecoDTO"},"ExtratoDTO":{"type":"object","properties":{"conta":{"$ref":"#/definitions/Conta"},"data":{"type":"string","format":"date"},"listaMovi":{"type":"array","items":{"$ref":"#/definitions/Movimentacao"}},"periodo":{"type":"string"},"saldo_final":{"type":"number","format":"double"},"saldo_inicial":{"type":"number","format":"double"}},"title":"ExtratoDTO"},"Movimentacao":{"type":"object","properties":{"credito_debito":{"type":"string","enum":["NA","DEBITO","CREDITO"]},"data_transacao":{"type":"string","format":"date"},"descricao":{"type":"string"},"id_transacao":{"type":"integer","format":"int64"},"tipo":{"type":"string","enum":["NA","PIX","TED","DOC","TRANSF","CHEQUE"]},"valor":{"type":"number","format":"double"}},"title":"Movimentacao"},"MovimentacaoDTO":{"type":"object","properties":{"credito_debito":{"type":"integer","format":"int32"},"descricao":{"type":"string"},"id_transacao":{"type":"integer","format":"int64"},"tipo":{"type":"integer","format":"int32"},"valor":{"type":"number","format":"double"}},"title":"MovimentacaoDTO"},"Pageable":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"sort":{"$ref":"#/definitions/Sort"},"unpaged":{"type":"boolean"}},"title":"Pageable"},"Page«Cliente»":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/definitions/Cliente"}},"empty":{"type":"boolean"},"first":{"type":"boolean"},"last":{"type":"boolean"},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/definitions/Pageable"},"size":{"type":"integer","format":"int32"},"sort":{"$ref":"#/definitions/Sort"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}},"title":"Page«Cliente»"},"Page«Movimentacao»":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/definitions/Movimentacao"}},"empty":{"type":"boolean"},"first":{"type":"boolean"},"last":{"type":"boolean"},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/definitions/Pageable"},"size":{"type":"integer","format":"int32"},"sort":{"$ref":"#/definitions/Sort"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}},"title":"Page«Movimentacao»"},"Sort":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}},"title":"Sort"}}}